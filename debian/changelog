waydroid (1.6.0) bullseye; urgency=medium

  * prop: Enable the "ro.adb.secure" property (#1096)
  * net: Disable adb auto-connect by default
  * upgrade: Migrate auto_adb to False on first upgrade
  * net: Add "waydroid adb connect" action
  * user_manager: Rework desktop file handling
  * user_manager: Fix quotes f-string
  * user_manager: Mark new LineageOS Camera app as a system app
  * logging: Use RotatingFileHandler to trim logfile at 5MB
  * logging: Add date to the logfile format
  * container: Add some additional logging
  * logging: Actually enable logfile rotation
  * session_manager: Stop the container on logout
  * session_manager: Stop the container on SIGHUP
  * Update Android version from 11 to 13 in README
  * tools/helpers/http.py: also handle urllib.error.URLError exceptions instead of showing traceback
  * debian/control: add Recommends on ca-certificates
  * debian/control: add Depends on pipewire-pulse | pulseaudio
  * Remove underscore from .desktop action name
  * lxc: Restore permissions on the shell command stdout file
  * tools: Print suggestion to use --details-to-stdout
  * tools: Add bugreport action
  * Makefile: Install relative bin symlink instead of absolute
  * debian: Never fail postinst script
  * fix: remove '"' that may cause SyntaxErrors for some Python versions
  * user_manager: Fixup desktop file mangling to preserve user-added actions
  * user_manager: Always show Waydroid desktop launcher
  * tools: Run waydroid without any additional command-line arguments
  * data: Add desktop action to stop Waydroid session
  * user_manager: Add user migration steps to cleanup stale desktop files
  * init: Allow re-initializing while container daemon is running
  * init: Use DBus for reporting progress
  * http: Report progress slower
  * tools: Make sure to log exceptions caught in DBus method calls
  * tools: Do not hint about --details-to-stdout when already set
  * lxc: Fixup starting when logfile does not exist
  * logging: Fixup starting when logfile does not exist
  * container_manager: Avoid potential race with DBus object vs name registration
  * images: Fix TOCTOU bugs in checksum verification
  * initializer: Fixup bus exception handling
  * initializer: Show meaningful text description in system type selection
  * github: Mention "waydroid bugreport" to attach logs
  * readme: Add icon, links to website and FAQ
  * services: Add new notification manager
  * Upver to 1.6.0

 -- Alessandro Astone <ales.astone@gmail.com>  Fri, 21 Nov 2025 23:05:38 +0100

waydroid (1.5.4) bullseye; urgency=medium

  * shell: Do not abort if classpath env file is missing
  * shell: Filter imported environment

 -- Alessandro Astone <ales.astone@gmail.com>  Tue, 24 Jun 2025 11:18:15 +0200

waydroid (1.5.3) bullseye; urgency=medium

  * Remove unused python imports
  * shell: Import CLASSPATH env that was generated by Android
  * prop: Declare OpenGL ES 3.2
  * Upver to 1.5.3

 -- Alessandro Astone <ales.astone@gmail.com>  Sun, 22 Jun 2025 12:14:13 +0200

waydroid (1.5.2) bullseye; urgency=medium

  * arch: Separately identify arm64_only CPUs without AArch32 support
  * data: Add a valid registered category to Waydroid.desktop for appstream
  * Upver to 1.5.2

 -- Alessandro Astone <ales.astone@gmail.com>  Fri, 30 May 2025 19:45:21 +0200

waydroid (1.5.1) bullseye; urgency=medium

  * lxc: Mount DMA-BUF Heaps
  * lxc: Mount DRM device with the same name
  * gpu: Check i915_capabilities for the card node
  * gpu: Allow choosing the DRM device in waydroid.cfg
  * gpu: Always prefer lower-numbered render node
  * clipboard: Demote warning about missing pyclip to debug level
  * Upver to 1.5.1

 -- Alessandro Astone <ales.astone@gmail.com>  Wed, 26 Mar 2025 19:37:28 +0100

waydroid (1.5.0) bullseye; urgency=medium

  * debian: Use new polkitd package
  * initializer: Refactor setup to better handle preinstalled images
  * gpu: Use intel_hasvk on intel graphics gen 8 or lower (Closes: #1604)
  * protocol: Correct gbinder protocol version for API 33
  * initializer: Differentiate HALIUM vndk31 and vndk32
  * gpu: Do not log failure to read i915_capabilities
  * container: Do not mount KMS nodes
  * lxc: Handle CTRL+C silently during shell commands
  * Upver to 1.5.0

 -- Alessandro Astone <ales.astone@gmail.com>  Wed, 05 Mar 2025 19:12:03 +0100

waydroid (1.4.3) bullseye; urgency=medium

  * update regex for deprecation warning
  * Add SSSE3 CPU check for arch x86/x86_64
  * Make adb auto-connection opt-out
  * upgrader: Clarify refused upgrade message
  * Add sysconfdir to Makefile defaulting to /etc
  * Don't change user-defined desktop files for Waydroid when they're set as read-only
  * Ensure default umask to avoid surprises with file permissions.
  * initializer: Fix Halium version VNDK detection logic for 12L+
  * Add msm_dpu driver for freedreno
  * Re-enable nouveau and nvk
  * Remove unused session.cfg config
  * Use synthetic paths for host sockets
  * Bail out if system_channel or vendor_channel are empty
  * user_manager: Restore desktop-file creation the first time
  * Upver to 1.4.3

 -- Alessandro Astone <ales.astone@gmail.com>  Wed, 07 Aug 2024 22:58:54 +0200

waydroid (1.4.2) bullseye; urgency=medium

  * Allow running a shell command as an arbitrary user and group and with an arbitrary security context (#996)
  * IHardware: Add new upgrade transaction capable of 64-bit timestamps
  * interfaces: Return binder error when receiving an unknown transaction
  * clipboard: change warning message to be less misleading
  * container_manager: Keep schedtune cgroup around in case nesting is supported
  * Allow local amendments to the AppArmor policy
  * Fix issues with AppStream metadata
  * Add iptables as Debian dependency
  * user_manager: Respect user umask
  * user_manager: Add icon to the app_settings action
  * lxc: Recursively mount vendor_extra
  * hardware_manager: Validate upgrade zips against the saved ota channel
  * Block the "open_by_handle_at" system call
  * Add an XDG menu directory (#1149)
  * Upver to 1.4.2

 -- Alessandro Astone <ales.astone@gmail.com>  Tue, 31 Oct 2023 15:54:09 +0000

waydroid (1.4.1) bullseye; urgency=medium

  * CI: Add ubuntu lunar
  * Add App Settings to .desktop file
  * Add X-WayDroid-App category to WayDroid desktop files (#810)
  * All AppArmor profiles have been switched to the "enforce" mode.
  * .desktop files should not be executable (#815)
  * Revert "All AppArmor profiles have been switched to the "enforce" mode."
  * Add missing environment variable BOOTCLASSPATH to waydroid shell
  * user_manager: Do not crash when install applications during boot
  * Create CODE_OF_CONDUCT.md
  * Add device IP address to status, auto adb connect
  * lxc: Add /dev/tty
  * Upver to 1.4.1

 -- Alessandro Astone <ales.astone@gmail.com>  Mon, 24 Apr 2023 11:54:54 +0000

waydroid (1.4.0) bullseye; urgency=medium

  * lxc: Fixup apparmor detection
  * lxc: Allow shell and logcat from frozen
  * initializer: Move triggers to dbus
  * Move session IPC to dbus
  * Makefile: Install dbus service
  * app_manager: Allow install/remove/list while frozen
  * tools: Remove umask 0
  * initializer: Require admin authentication for remote initialization with custom channels
  * lxc: Workaround against lxc changing logfile permissions
  * tools: Allow prop commands while frozen
  * Fix prop set command
  * gpu: Also mount card node
  * helpers/mount: Check for failed umounts only umounting the whole list
  * helpers/mount: Allow to specify explicit mount type and options
  * helpers/mount: Add an option to mount even if mount point already exists
  * Mount overlays on top of image mount points
  * Remove RW image overlay when upgrading images
  * Make overlays opt-out
  * Make session more resilient to start failures
  * session: Add strict WAYLAND_DISPLAY validity checks
  * debian: Unify waydroid.postinst indentation
  * props: Drop unneeded ';' from end of return line
  * lxc: Only add /dev/ashmem to config_nodes when it exists
  * container: Make "waydroid-net.sh start" failure fatal
  * net: Don't fail start when already running
  * container: Allow stopping without killing the session deamon
  * Use `command -v` instead of `which`
  * mount: Only disable overlayfs xino on kernels that support it
  * version: Don't fail when uname contains only two numbers
  * session: Dump the full exception to log file when failed to start
  * version: Fix "NameError: name 're' is not defined"
  * lxc: Attach with proper environment
  * security: Verify session user_id against DBus connection
  * session: Also log dbus connection exceptions
  * fixup! security: Verify session user_id against DBus connection
  * lxc: Create session-specific mount entries (Closes: #704)
  * upgrade: Restart container through DBus
  * upgrade: Drop more privileges during 1.4.0 migration
  * upgrade: Fallback to stopping container manually
  * upgrade: Remove session.cfg during 1.4.0 migration
  * security: Verify session pid against DBus connection
  * container_manager: Mount rootfs last
  * lxc: Improve session config error message
  * container: Extend nfcd stop/start hacks to systemd
  * app_manager: Fix IPlatform error logging
  * interfaces: Fix ServiceManager race condition in clients
  * session: Provide waydroid.background_start bool
  * Add apk mimetype handler
  * user_manager: Fix app removal
  * session: Provide waydroid.host_data_path prop
  * images: Cleanup Waydroid Updater zips after extracting
  * interfaces: Remove presence handler after use
  * packaging: install icons to xdg icons resource path, and get the .desktop file to use relative icon name
  * Disable overlays if mounting fails once
  * lxc: Handle lxc-info failure
  * initializer: Restart container through DBus
  * arch: Fallback to arm on weird arm64 kernels with 32-bit userspace
  * Update appstream
  * Update github issue template
  * Fix last hardcoded direct usages of AppIcon.png
  * waydroid.app.install.desktop: Don't hardcode waydroid binary path
  * Add developer_name to appstream metadata
  * Upver to 1.4.0

 -- Alessandro Astone <ales.astone@gmail.com>  Wed, 08 Feb 2023 16:30:33 +0000

waydroid (1.3.4) bullseye; urgency=medium

  * Remove CAP_SYS_MODULE from the capability bounding set.
  * Mount proc with the hidepid=2 option
  * Enable OpenGL ES 3.1
  * hardware-manager: Optionally stop the session on suspend
  * desktop: Mark as compatible with mobile form factor
  * Adding AppArmor profiles for the container.
  * Temporarily switching all profiles to "complain" mode in order to work out policy mistakes.
  * Policies have been adjusted for Android 11.
  * AppArmor policy setup has been moved to the Makefile
  * * Makefile adjustments * AppArmor profile texts have been moved into a dedicated directory
  * Makefile: Install apparmor dir
  * Makefile: Don't enable the apparmor profiles if packaging
  * debian: Install apparmor profiles
  * Also support SUSE apparmor
  * Change apparmor profile at runtime
  * lxc: Only enable apparmor if the profile is currently loaded
  * Update README.md
  * apparmor: Remove unnecessary includes
  * clipboard: Return empty string if error
  * lxc: Fixup LXC config versioning
  * net: Fix vnic name selection for LXC <=2
  * lxc: Mount /dev/shm which might host XDG_RUNTIME_DIR
  * fix(shell): allow command to have arguments
  * session: warn about unset WAYLAND_DISPLAY instead of XDG_SESSION_TYPE
  * Revert "Mount proc with the hidepid=2 option"

 -- Alessandro Astone <ales.astone@gmail.com>  Wed, 14 Dec 2022 13:47:05 +0000

waydroid (1.3.3) bullseye; urgency=medium

  * Makefile: Install waydroid binary without relative symlink
  * lxc: Finer-grained config control
  * Configure multiple preinstalled images paths
  * tools: Upver to 1.3.3

 -- Alessandro Astone <ales.astone@gmail.com>  Sat, 24 Sep 2022 10:43:18 +0000

waydroid (1.3.2) bullseye; urgency=medium

  * app_manager: Don't rmdir /data/waydroid_tmp after install
  * gpu: Disable nouveau support
  * A "No New Privileges" has been enabled for the container.
  * Container capabilities have been restricted.
  * A seccomp profile for the entire container has been added.
  * Rebuild waydroid.prop after live upgrade
  * Quiet ashmem modprobe errors
  * tools: Upver to 1.3.2

 -- Alessandro Astone <ales.astone@gmail.com>  Sun, 11 Sep 2022 17:51:38 +0000

waydroid (1.3.1) bullseye; urgency=medium

  * CI: add support for rolling releases
  * Makefile: Allow installing over an existing installation
  * Makefile: Allow overriding directories without having to know the DESTDIR
  * debian: Use /lib/systemd/system for units
  * CI: Restore versioned debian
  * Add mainline vulkan support
  * Detect HIDL gralloc4
  * tools: Upver to 1.3.1

 -- Alessandro Astone <ales.astone@gmail.com>  Fri, 02 Sep 2022 12:23:28 +0000

waydroid (1.3.0) bullseye; urgency=medium

  * tools: Fix device names with spaces in initializer
  * http: Handle malformed urls
  * Mount TUN device for use by Android VPNs.
  * Set aidl version based on the android version
  * Add -w flag for waiting for init
  * debian: Start container waiting for init if not already
  * Allows waydroid to create PTY (#349)
  * Downgrade x86_64 to x86 if no SSE4.2
  * app_manager: Factor out common function to start session then launch
  * app_manager: Add launch intent
  * Add Android Market Protocol Handler
  * waydroid.market.desktop: update some properties
  * waydroid.market.desktop: use `waydroid app intent`
  * Fixup market:// handler
  * lxc: Optionally bind-mount NFC config
  * Improve robustness of the dynamic aidl version picker
  * init: Always redownload the image when changing parameters
  * Default nvidia to swiftshader
  * ci: update to jammy
  * Update Matrix link
  * container: Only umount /sys/fs/cgroup/schedtune if needed
  * make waydroid-net more flexible (#267)
  * Disable OTA updater when using preinstalled images
  * Add first-launch command
  * Revert "Add first-launch command"
  * debian: Move waydroid-container.service under new toplevel systemd dir
  * gbinder: Remove unnecessary configs
  * Makefile: Add distro-agnostic buildsystem
  * debian: Adapt to new Makefile buildsystem
  * Support upgrading major android versions
  * Add first-launch command [v2]
  * Show first-launch icon on wayland gtk
  * Makefile: Add prefix for systemd directory
  * fix typo in arguments.py
  * Add appstream metadata

 -- Alessandro Astone <ales.astone@gmail.com>  Sun, 07 Aug 2022 21:37:46 +0000

waydroid (1.2.1) bullseye; urgency=medium

  * Set sys.use_memfd=true if ashmem is not present
  * config: Switch to https for OTA channels
  * add size units and speed in download progress bar
  * Add an optional [properties] in waydroid.cfg
  * scripts: make sure misc subfolder exists
  * container: strip possible trailing newline from pid
  * lxc: Fix bad eol of proc dt values
  * Resume initialization if not complete
  * Remove downloaded system images which failed checksum verification
  * props: Use subprocess for host getprop

 -- Erfan Abdi <erfangplus@gmail.com>  Sun, 17 Apr 2022 21:33:26 +0430

waydroid (1.2.0) bullseye; urgency=medium

  * config: Update waydroid ota channel urls
  * lxc: Get device info props from host
  * session: Nuke old data dir movement
  * lxc: Make sure vibrator sys nodes are writable
  * lxc: Add non-treble camera support
  * lxc: Skip host_perms on non treble devices
  * lxc: Add more sphal paths to find_hal
  * images: Decode http retrieve for older pythons
  * drivers: Add bonder nodes support
  * container: Add missing powervr nodes chmod
  * container: Use umount -l for schedtune
  * log: More resilient logging
  * net: Disable NFT by default
  * arch: detect armv8l as 32bit arm
  * drivers: Keep devices arg on modprobe
  * session: don't panic when removing old userdata if its not empty
  * lxc: do prepend colon to Android PATHs in shell
  * container: don't panic if binder device already exists
  * upgrade: log that no we will not upgrade if a preinstalled image exists

 -- Erfan Abdi <erfangplus@gmail.com>  Thu, 19 Oct 2021 11:19:53 +0430

waydroid (1.1.1) bullseye; urgency=medium

  * lxc: Include tmp runtime dirs to container
  * session: Move waydroid user data to XDG_DATA_HOME
  * drivers: Allocate binder nodes dynamically
  * user_manager: Use one variable for apps dir
  * user: Create apps dir if doesn’t exists
  * lxc: workaround weird log permission bug

 -- Erfan Abdi <erfangplus@gmail.com>  Thu, 30 Sep 2021 08:07:30 +0430

waydroid (1.1.0) bullseye; urgency=medium

  * tools: Fully restart services
  * container: Don’t burn XDG permissions
  * user: Only hide Waydroid app on multi-win
  * actions: Start session by lunching apps
  * data: Install Waydroid launcher by default
  * debian: Add systemd service
  * config: Store data in /var/lib/waydroid rather than /home/.waydroid
  * init: Add check for work dir before mkdir
  * data: Update app logo
  * Readme: Add documentation site
  * drivers: Improve binderfs loading
  * tools: Fix typo on stop container
  * tools: Drop requests library dependency
  * tools: Rename pre-init log file
  * tools: Remove unused requests import
  * ci: Add .abstruse.yml
  * tools: fix shell path env
  * user: Add “waydroid” prefix to desktop files
  * tools: Drop need of sudo as much as possible
  * lxc: Add WSLg support
  * lxc: Provide /var/run to container
  * lxc: Provide all fb and video nodes to container
  * container: Don’t crash on sensord
  * lxc: Mount /dev/null for container
  * lxc: Enable vndk lite for mainline devices
  * lxc: Use v4l2 camera hal on mainline
  * fix grammar mistakes in the readme
  * Fix grammar and spelling in README (#104)
  * log: don't panic on ctrlc
  * debian: Add LXC as dependency
  * container: Umount on stop
  * upgrade: show progress

 -- Erfan Abdi <erfangplus@gmail.com>  Tue, 28 Sep 2021 10:11:40 +0430

waydroid (1.0.0) bullseye; urgency=medium

  * Initial release.

 -- Erfan Abdi <erfangplus@gmail.com>  Thu, 02 Sep 2021 22:19:03 +0430
